import{_,r as i,u as L,a as S,o as I,b as g,c as u,d as e,w as E,e as y,v as x,n as b,t as v,f as w,S as h,g as N,p as j,h as C,i as V,j as k,k as T}from"./index-adf0c14a.js";const U={components:{},setup(){const a=i(""),t=i(""),d=i(""),r=i(""),m=i(!1),l=L(),s=S();I(()=>{s.isLoggedIn&&l.push("/dashboard")});const p=()=>{a.value?d.value="":d.value="กรุณากรอกชื่อผู้ใช้งาน"},f=()=>{t.value?r.value="":r.value="กรุณากรอกรหัสผ่าน"};return{userLogin:a,passwordLogin:t,userLoginError:d,passwordError:r,showError:m,SignIn:async()=>{if(p(),f(),!(d.value||r.value))try{const o=await s.login(a.value,t.value);if(o.status===200&&o.data&&o.data[0]){const c=o.data[0];localStorage.setItem("user",JSON.stringify(c)),localStorage.setItem("token",JSON.stringify(o.token)),await h.fire({icon:"success",title:"เข้าสู่ระบบสำเร็จ",text:`ยินดีต้อนรับ ${c.fullNameThai||c.fullName}`,timer:1500,showConfirmButton:!1}),await l.push("/dashboard")}else throw new Error("เข้าสู่ระบบไม่สำเร็จ")}catch(o){console.error("Login error:",o),h.fire({icon:"error",title:"เข้าสู่ระบบไม่สำเร็จ",text:o.message||"รหัสผ่านหรือชื่อผู้ใช้งานผิด"})}},validateUserLogin:p,validatePassword:f}}},n=a=>(j("data-v-06776a0c"),a=a(),C(),a),B={class:"bg-gray-100 dark:bg-gray-900"},D={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},M={class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},O=N('<div class="flex justify-center" data-v-06776a0c><div class="flex items-center" data-v-06776a0c><img class="h-21 mr-2 sm:w-32 md:w-60" src="'+V+'" alt="logo" data-v-06776a0c></div></div><div class="flex justify-center items-center mb-6" data-v-06776a0c><span class="text-xl font-semibold text-gray-500 dark:text-gray-400" data-v-06776a0c>เข้าสู่ระบบจัดการ 12Chat</span></div>',2),P={class:"p-6 space-y-4 md:space-y-6 sm:p-6",style:{"padding-top":"0%"}},A=n(()=>e("label",{for:"text",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},[k("ชื่อผู้ใช้งาน "),e("span",{class:"text-red-500"},"*")],-1)),J={key:0,class:"mt-1 text-sm text-red-500"},z=n(()=>e("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},[k("รหัสผ่าน "),e("span",{class:"text-red-500"},"*")],-1)),R={key:0,class:"mt-1 text-sm text-red-500"},q=n(()=>e("button",{style:{"border-radius":"12px","background-color":"#00569D"},type:"submit",class:"w-full text-white bg-blue-700 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-md text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"}," เข้าสู่ระบบ ",-1)),F=n(()=>e("div",{class:"mt-6 text-center"},[e("div",{class:"flex items-center justify-center space-x-2"},[e("img",{src:T,alt:"logo",class:"h-4 object-contain"}),e("span",{class:"text-xs text-gray-500 dark:text-gray-400"}," Copyright One Two Trading Co., Ltd. All rights reserved. ")])],-1));function G(a,t,d,r,m,l){return g(),u("section",B,[e("div",D,[e("div",M,[O,e("div",P,[e("form",{class:"space-y-4 md:space-y-6",onSubmit:t[4]||(t[4]=E((...s)=>r.SignIn&&r.SignIn(...s),["prevent"])),method:"post"},[e("div",null,[A,y(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>r.userLogin=s),id:"userLogin",class:b(["bg-gray-50 border text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",r.userLoginError?"border-red-500":"border-gray-300"]),placeholder:"กรุณากรอกชื่อผู้ใช้งาน",onInput:t[1]||(t[1]=(...s)=>r.validateUserLogin&&r.validateUserLogin(...s))},null,34),[[x,r.userLogin]]),r.userLoginError?(g(),u("p",J,v(r.userLoginError),1)):w("",!0)]),e("div",null,[z,y(e("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=s=>r.passwordLogin=s),id:"passwordLogin",placeholder:"••••••••",class:b(["bg-gray-50 border text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",r.passwordError?"border-red-500":"border-gray-300"]),onInput:t[3]||(t[3]=(...s)=>r.validatePassword&&r.validatePassword(...s))},null,34),[[x,r.passwordLogin]]),r.passwordError?(g(),u("p",R,v(r.passwordError),1)):w("",!0)]),q],32),F])])])])}const Q=_(U,[["render",G],["__scopeId","data-v-06776a0c"]]);export{Q as default};
